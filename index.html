<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقع تعليمي شامل - الميزانية الشبكية والخرائط الكنتورية</title>
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #4CAF50;
            --light-green: #E8F5E9;
            --dark-green: #1B5E20;
            --accent-color: #FF9800;
            --accent-light: #FFE0B2;
            --text-color: #333;
            --light-gray: #f5f5f5;
            --white: #ffffff;
            --shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--text-color);
            line-height: 1.7;
        }
        
        /* تحسين الخط العربي */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap');
        
        /* تصميم الهيدر */
        header {
            background: linear-gradient(135deg, var(--primary-color), #388E3C);
            color: white;
            padding: 2rem 1.5rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: cover;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }
        
        .logo-icon {
            background: rgba(255,255,255,0.15);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            backdrop-filter: blur(5px);
            border: 2px solid rgba(255,255,255,0.2);
        }
        
        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* شريط التنقل المحسّن - متجاوب */
        nav {
            background-color: var(--dark-green);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
        }
        
        /* حالة شريط التنقل عند التمرير */
        nav.scrolled {
            background-color: rgba(27, 94, 32, 0.98);
            backdrop-filter: blur(10px);
            padding: 0.3rem 0;
        }
        
        nav.hidden {
            transform: translateY(-100%);
        }
        
        .nav-container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        nav.scrolled .nav-container {
            padding: 0.2rem 1rem;
        }
        
        /* القائمة الرئيسية */
        .nav-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            flex: 1;
        }
        
        .nav-link {
            color: white;
            text-decoration: none;
            padding: 1rem 1.2rem;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
            font-size: 0.95rem;
            white-space: nowrap;
        }
        
        nav.scrolled .nav-link {
            padding: 0.6rem 0.8rem;
            font-size: 0.85rem;
        }
        
        .nav-link i {
            margin-left: 5px;
            font-size: 0.9rem;
        }
        
        nav.scrolled .nav-link i {
            font-size: 0.8rem;
        }
        
        .nav-link:hover, .nav-link.active {
            background-color: rgba(255,255,255,0.15);
            color: #FFEB3B;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            left: 0;
            height: 3px;
            background-color: var(--accent-color);
            border-radius: 2px 2px 0 0;
        }
        
        /* زر القائمة المدمجة للجوال */
        .mobile-menu-btn {
            display: none;
            background: transparent;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .mobile-menu-btn:hover {
            background: rgba(255,255,255,0.1);
        }
        
        /* قائمة الجوال المدمجة */
        .mobile-nav {
            position: fixed;
            top: 0;
            right: 0;
            width: 280px;
            height: 100vh;
            background: var(--dark-green);
            z-index: 2000;
            transform: translateX(100%);
            transition: transform 0.4s ease;
            box-shadow: -5px 0 15px rgba(0,0,0,0.2);
            overflow-y: auto;
            padding-top: 70px;
        }
        
        .mobile-nav.active {
            transform: translateX(0);
        }
        
        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1999;
            display: none;
        }
        
        .mobile-nav-overlay.active {
            display: block;
        }
        
        .mobile-nav-link {
            display: block;
            color: white;
            text-decoration: none;
            padding: 1.2rem 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }
        
        .mobile-nav-link:hover, .mobile-nav-link.active {
            background-color: rgba(255,255,255,0.15);
            color: #FFEB3B;
            padding-right: 2rem;
        }
        
        .mobile-nav-link i {
            margin-left: 10px;
            width: 25px;
            text-align: center;
        }
        
        /* زر العودة للأعلى */
        .back-to-top {
            position: fixed;
            bottom: 25px;
            left: 25px;
            width: 50px;
            height: 50px;
            background: var(--accent-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 99;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            border: none;
        }
        
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .back-to-top:hover {
            background: #F57C00;
            transform: translateY(-5px);
        }
        
        /* زر القائمة العائمة للجوال */
        .floating-menu-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 60px;
            height: 60px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            cursor: pointer;
            z-index: 98;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            border: none;
        }
        
        .floating-menu-btn.show {
            display: flex;
        }
        
        .floating-menu-btn:hover {
            background: var(--dark-green);
            transform: scale(1.1);
        }
        
        /* المحتوى الرئيسي */
        .container {
            max-width: 1300px;
            margin: 2rem auto;
            padding: 0 1.5rem;
            padding-top: 20px;
        }
        
        .section {
            background-color: var(--white);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            display: none;
            animation: fadeIn 0.6s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section.active {
            display: block;
        }
        
        h2 {
            color: var(--primary-color);
            border-bottom: 3px solid var(--light-green);
            padding-bottom: 0.8rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        h2 i {
            color: var(--accent-color);
            background: var(--accent-light);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        h3 {
            color: var(--secondary-color);
            margin: 1.8rem 0 1rem;
            font-size: 1.5rem;
            padding-right: 10px;
            border-right: 4px solid var(--light-green);
        }
        
        h4 {
            color: var(--dark-green);
            margin: 1.3rem 0 0.8rem;
            font-size: 1.2rem;
        }
        
        /* البطاقات التعليمية المحسنة */
        .card {
            background-color: var(--light-gray);
            border-radius: 12px;
            padding: 1.8rem;
            margin: 1.5rem 0;
            border-right: 6px solid var(--secondary-color);
            transition: all 0.4s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .card-title {
            color: var(--dark-green);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
        }
        
        /* الرسومات التوضيحية المحسنة */
        .illustration-container {
            background: linear-gradient(145deg, #f0f7f0, #e8f4e8);
            border-radius: 12px;
            padding: 1.8rem;
            margin: 1.8rem 0;
            text-align: center;
            border: 2px solid var(--secondary-color);
            position: relative;
            overflow: hidden;
        }
        
        .illustration-title {
            color: var(--dark-green);
            margin-bottom: 1.2rem;
            font-size: 1.3rem;
            position: relative;
            z-index: 1;
        }
        
        /* صور خرائط الكنتور */
        .contour-images {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin: 1.8rem 0;
        }
        
        .contour-image-box {
            flex: 1;
            min-width: 280px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .contour-image-box:hover {
            transform: translateY(-5px);
        }
        
        .contour-img {
            width: 100%;
            height: 180px;
            background-color: #e0f2e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-color);
        }
        
        .contour-desc {
            padding: 1.2rem;
        }
        
        /* شبكات توضيحية */
        .grid-example {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            max-width: 450px;
            margin: 1.5rem auto;
            border: 3px solid var(--secondary-color);
            padding: 8px;
            background: white;
            border-radius: 8px;
        }
        
        .grid-cell {
            background-color: #e0f2e0;
            border: 1px solid var(--secondary-color);
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            position: relative;
            border-radius: 5px;
            transition: all 0.2s ease;
        }
        
        .grid-cell:hover {
            background-color: #c8e6c9;
            transform: scale(1.05);
        }
        
        .grid-cell.أ { background-color: #FFCDD2; }
        .grid-cell.ب { background-color: #FFF9C4; }
        .grid-cell.ج { background-color: #C8E6C9; }
        .grid-cell.د { background-color: #B3E5FC; }
        
        /* تمثيل الانحدار */
        .slope-representation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 1.8rem 0;
        }
        
        .slope-box {
            text-align: center;
            flex: 1;
            min-width: 200px;
        }
        
        .slope-visual {
            height: 120px;
            width: 100%;
            background: linear-gradient(to bottom, #4CAF50 0%, #81C784 100%);
            margin-bottom: 1rem;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .contour-lines {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }
        
        .contour-line {
            position: absolute;
            right: 0;
            left: 0;
            height: 2px;
            background: rgba(0,0,0,0.5);
        }
        
        /* القانون الرياضي المعدل */
        .formula-box {
            background: #FFF3E0;
            padding: 1.8rem;
            border-radius: 10px;
            margin: 1.8rem 0;
            text-align: center;
            border: 2px dashed #FF9800;
            font-size: 1.3rem;
            font-weight: bold;
            color: #E65100;
            font-family: 'Cairo', sans-serif;
            direction: rtl;
        }
        
        .formula-box-arabic {
            font-size: 1.6rem;
            line-height: 2.2;
            padding: 1.5rem;
        }
        
        .formula-equation {
            background: white;
            padding: 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        /* الأسئلة والاختبارات المحسنة */
        .question-box {
            background-color: #f8fdf8;
            border-radius: 12px;
            padding: 1.8rem;
            margin: 1.8rem 0;
            border-left: 6px solid var(--accent-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        .question-number {
            background: var(--accent-color);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .question {
            font-weight: bold;
            margin-bottom: 1.2rem;
            color: var(--dark-green);
            font-size: 1.1rem;
            line-height: 1.7;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 1.2rem 0;
        }
        
        .option {
            padding: 1rem 1.2rem;
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .option:hover {
            background-color: #f0f7f0;
            border-color: var(--secondary-color);
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: #2196F3;
        }
        
        .option.correct {
            background-color: #e8f5e9;
            border-color: var(--secondary-color);
            color: var(--dark-green);
        }
        
        .option.incorrect {
            background-color: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }
        
        .option-letter {
            background: #eee;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
            font-size: 1.1rem;
        }
        
        .option.selected .option-letter {
            background: #2196F3;
            color: white;
        }
        
        .option.correct .option-letter {
            background: var(--secondary-color);
            color: white;
        }
        
        .btn {
            background: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            color: white;
            border: none;
            padding: 0.9rem 1.8rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 0.5rem;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.2);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3);
        }
        
        .btn-check {
            background: linear-gradient(to right, #FF9800, #F57C00);
        }
        
        /* مسائل الحساب المحسنة */
        .problem-box {
            background: linear-gradient(145deg, #fff8e1, #fff3cd);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border: 3px solid #FFB300;
            box-shadow: 0 5px 15px rgba(255, 179, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .problem-box::before {
            content: 'مسألة';
            position: absolute;
            top: 15px;
            left: 15px;
            background: #FFB300;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.85rem;
        }
        
        .problem-title {
            color: #E65100;
            margin-bottom: 1.2rem;
            font-size: 1.4rem;
            padding-top: 10px;
        }
        
        .input-group {
            margin: 1.2rem 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 0.6rem;
            font-weight: 600;
            color: var(--dark-green);
            font-size: 1.05rem;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 0.9rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.05rem;
            transition: border 0.3s ease;
            background: white;
        }
        
        .input-group input:focus, .input-group select:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        
        .results {
            background: linear-gradient(145deg, #e8f5e9, #dcedc8);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.2rem 0;
            border-right: 5px solid var(--secondary-color);
            display: none;
        }
        
        .results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .accuracy {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-top: 1.2rem;
            padding: 0.9rem;
            background-color: white;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        /* جدول البيانات */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.2rem 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .data-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            text-align: right;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .data-table td {
            padding: 0.9rem;
            border-bottom: 1px solid #eee;
            text-align: center;
            font-size: 0.95rem;
        }
        
        .data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .data-table tr:hover {
            background-color: #f0f7f0;
        }
        
        /* الفوتر المحسن */
        footer {
            background: linear-gradient(135deg, var(--dark-green), #1B5E20);
            color: white;
            text-align: center;
            padding: 2.5rem 1.5rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .footer-link {
            color: #C8E6C9;
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 0.95rem;
        }
        
        .footer-link:hover {
            color: white;
            text-decoration: underline;
        }
        
        /* ===== تحسينات التجاوب مع الشاشات الصغيرة ===== */
        
        /* شاشات متوسطة (تابلت) */
        @media (max-width: 992px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .subtitle {
                font-size: 0.95rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .floating-menu-btn {
                display: flex;
            }
            
            .nav-container {
                padding: 0.5rem 1rem;
            }
            
            .container {
                padding: 0 1rem;
                padding-top: 15px;
            }
            
            .section {
                padding: 1.5rem;
            }
            
            h2 {
                font-size: 1.6rem;
            }
            
            h3 {
                font-size: 1.4rem;
            }
            
            .contour-image-box {
                min-width: 100%;
            }
            
            .grid-example {
                max-width: 350px;
            }
            
            .grid-cell {
                height: 50px;
                font-size: 1rem;
            }
            
            .formula-box-arabic {
                font-size: 1.4rem;
                padding: 1.2rem;
            }
            
            .back-to-top, .floating-menu-btn {
                bottom: 20px;
                left: 20px;
                width: 45px;
                height: 45px;
                font-size: 1.2rem;
            }
            
            .floating-menu-btn {
                right: 20px;
                width: 55px;
                height: 55px;
                font-size: 1.6rem;
            }
        }
        
        /* شاشات صغيرة (هواتف) */
        @media (max-width: 768px) {
            header {
                padding: 1.5rem 1rem;
            }
            
            .logo-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .logo-icon {
                width: 55px;
                height: 55px;
                font-size: 1.6rem;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .subtitle {
                font-size: 0.9rem;
            }
            
            .container {
                padding: 0 0.8rem;
                padding-top: 10px;
            }
            
            .section {
                padding: 1.2rem;
                border-radius: 12px;
                margin-bottom: 1.5rem;
            }
            
            h2 {
                font-size: 1.5rem;
                padding-bottom: 0.6rem;
                margin-bottom: 1.2rem;
            }
            
            h2 i {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            h3 {
                font-size: 1.3rem;
                margin: 1.5rem 0 0.8rem;
            }
            
            .card {
                padding: 1.5rem;
                margin: 1.2rem 0;
            }
            
            .card-title {
                font-size: 1.2rem;
            }
            
            .illustration-container {
                padding: 1.5rem;
                margin: 1.5rem 0;
            }
            
            .contour-img {
                height: 150px;
                font-size: 2.5rem;
            }
            
            .contour-desc {
                padding: 1rem;
            }
            
            .grid-example {
                max-width: 300px;
                gap: 4px;
            }
            
            .grid-cell {
                height: 45px;
                font-size: 0.9rem;
            }
            
            .slope-representation {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            .slope-box {
                min-width: 180px;
            }
            
            .slope-visual {
                height: 100px;
            }
            
            .formula-box {
                padding: 1.2rem;
                font-size: 1.1rem;
            }
            
            .formula-box-arabic {
                font-size: 1.2rem;
                padding: 1rem;
                line-height: 1.8;
            }
            
            .question-box {
                padding: 1.5rem;
                margin: 1.5rem 0;
            }
            
            .question {
                font-size: 1rem;
            }
            
            .option {
                padding: 0.8rem 1rem;
                font-size: 1rem;
            }
            
            .option-letter {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
            
            .btn {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
            
            .problem-box {
                padding: 1.8rem 1.2rem;
                margin: 1.8rem 0;
            }
            
            .problem-title {
                font-size: 1.3rem;
            }
            
            .input-group input, .input-group select {
                padding: 0.8rem;
                font-size: 1rem;
            }
            
            .data-table th, .data-table td {
                padding: 0.8rem;
                font-size: 0.9rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
            
            .footer-link {
                font-size: 0.9rem;
            }
            
            .mobile-nav {
                width: 250px;
            }
            
            .mobile-nav-link {
                padding: 1rem 1.2rem;
                font-size: 1rem;
            }
            
            .back-to-top, .floating-menu-btn {
                bottom: 15px;
                left: 15px;
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            .floating-menu-btn {
                right: 15px;
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
        }
        
        /* شاشات صغيرة جداً */
        @media (max-width: 480px) {
            h1 {
                font-size: 1.4rem;
            }
            
            .subtitle {
                font-size: 0.85rem;
            }
            
            h2 {
                font-size: 1.4rem;
            }
            
            h3 {
                font-size: 1.2rem;
            }
            
            .section {
                padding: 1rem;
            }
            
            .card {
                padding: 1.2rem;
            }
            
            .grid-example {
                max-width: 280px;
            }
            
            .grid-cell {
                height: 40px;
                font-size: 0.85rem;
            }
            
            .formula-box-arabic {
                font-size: 1.1rem;
            }
            
            .question-box {
                padding: 1.2rem;
            }
            
            .problem-box {
                padding: 1.5rem 1rem;
            }
            
            .contour-image-box {
                min-width: 100%;
            }
        }
        
        /* شاشات كبيرة جداً */
        @media (min-width: 1400px) {
            .container {
                max-width: 1400px;
            }
        }
        
        /* أنماط إضافية للتوضيح */
        .note-box {
            background: #E3F2FD;
            border-right: 5px solid #2196F3;
            padding: 1.2rem;
            border-radius: 10px;
            margin: 1.2rem 0;
        }
        
        .note-title {
            color: #0D47A1;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
        }
        
        .step-by-step {
            background: #F3E5F5;
            padding: 1.2rem;
            border-radius: 10px;
            margin: 1.2rem 0;
            border-right: 5px solid #7B1FA2;
        }
        
        .step {
            margin-bottom: 0.8rem;
            padding-right: 1.2rem;
            position: relative;
        }
        
        .step:before {
            content: '';
            position: absolute;
            right: 0;
            top: 0.5rem;
            width: 8px;
            height: 8px;
            background: #7B1FA2;
            border-radius: 50%;
        }
        
        .comparison-table {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 1.5rem 0;
        }
        
        .comparison-col {
            flex: 1;
            min-width: 280px;
            background: white;
            border-radius: 10px;
            padding: 1.2rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .comparison-title {
            text-align: center;
            padding-bottom: 0.8rem;
            margin-bottom: 0.8rem;
            border-bottom: 2px solid #eee;
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        /* شارة الإنجاز */
        .badge {
            display: inline-block;
            background: #FF9800;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .progress-bar {
            height: 8px;
            background: #eee;
            border-radius: 5px;
            margin: 1.2rem 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            width: 0%;
            transition: width 1s ease;
        }
        
        /* الأرقام العربية في الخلايا */
        .arabic-number {
            font-family: 'Cairo', sans-serif;
            font-size: 1.1rem;
        }
        
        /* تحسين عرض الرموز العربية */
        .arabic-symbol {
            font-family: 'Cairo', sans-serif;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* تحسين عرض القوائم */
        ul, ol {
            padding-right: 1.5rem;
            margin: 0.8rem 0;
        }
        
        li {
            margin-bottom: 0.5rem;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- زر العودة للأعلى -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <!-- زر القائمة العائمة للجوال -->
    <button class="floating-menu-btn" id="floatingMenuBtn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- قائمة الجوال المدمجة -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    <div class="mobile-nav" id="mobileNav">
        <a href="#" class="mobile-nav-link active" data-section="overview">
            <i class="fas fa-home"></i> نظرة عامة
        </a>
        <a href="#" class="mobile-nav-link" data-section="contour">
            <i class="fas fa-map-marked-alt"></i> الخرائط الكنتورية
        </a>
        <a href="#" class="mobile-nav-link" data-section="grid-survey">
            <i class="fas fa-ruler-combined"></i> الميزانية الشبكية
        </a>
        <a href="#" class="mobile-nav-link" data-section="calculation">
            <i class="fas fa-calculator"></i> حساب الحفر والردم
        </a>
        <a href="#" class="mobile-nav-link" data-section="methods">
            <i class="fas fa-tasks"></i> طرق ووسائل أخرى
        </a>
        <a href="#" class="mobile-nav-link" data-section="questions">
            <i class="fas fa-question-circle"></i> بنك الأسئلة
        </a>
        <a href="#" class="mobile-nav-link" data-section="problems">
            <i class="fas fa-pencil-ruler"></i> مسائل وحلول
        </a>
    </div>
    
    <!-- الهيدر المحسّن -->
    <header>
        <div class="header-overlay"></div>
        <div class="logo-container">
            <div class="logo-icon">
                <i class="fas fa-mountain"></i>
            </div>
            <div>
                <h1>موقع تعليمي شامل: الميزانية الشبكية والخرائط الكنتورية</h1>
                <div class="subtitle">برنامج فني هندسة زراعية - الصف الثالث | شرح مفصل مع أمثلة تطبيقية وتمارين تفاعلية</div>
            </div>
        </div>
    </header>
    
    <!-- شريط التنقل المحسّن - متجاوب -->
    <nav id="mainNav">
        <div class="nav-container">
            <div class="nav-links">
                <a href="#" class="nav-link active" data-section="overview">
                    <i class="fas fa-home"></i> نظرة عامة
                </a>
                <a href="#" class="nav-link" data-section="contour">
                    <i class="fas fa-map-marked-alt"></i> الخرائط الكنتورية
                </a>
                <a href="#" class="nav-link" data-section="grid-survey">
                    <i class="fas fa-ruler-combined"></i> الميزانية الشبكية
                </a>
                <a href="#" class="nav-link" data-section="calculation">
                    <i class="fas fa-calculator"></i> حساب الحفر والردم
                </a>
                <a href="#" class="nav-link" data-section="methods">
                    <i class="fas fa-tasks"></i> طرق ووسائل أخرى
                </a>
                <a href="#" class="nav-link" data-section="questions">
                    <i class="fas fa-question-circle"></i> بنك الأسئلة
                </a>
                <a href="#" class="nav-link" data-section="problems">
                    <i class="fas fa-pencil-ruler"></i> مسائل وحلول
                </a>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>
    
    <!-- المحتوى الرئيسي -->
    <div class="container">
        <!-- قسم النظرة العامة -->
        <section id="overview" class="section active">
            <h2><i class="fas fa-info-circle"></i> نظرة عامة على الوحدة التعليمية</h2>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-book-open"></i> أهمية دراسة الوحدة</h3>
                <p>تعتبر دراسة <strong>الخرائط الكنتورية</strong> و<strong>الميزانية الشبكية</strong> من الأساسيات الهامة في الهندسة الزراعية والمدنية. فهي تمكن المهندس من:</p>
                <ul>
                    <li>فهم شكل وتضاريس الأرض بدقة</li>
                    <li>تخطيط مشاريع الري والصرف بشكل علمي</li>
                    <li>حساب كميات الحفر والردم اللازمة لتسوية الأرض</li>
                    <li>تحديد أفضل مواقع المنشآت الهندسية</li>
                    <li>تحليل مخاطر السيول والفيضانات</li>
                    <li>تخطيط الطرق والمسالك بأقل التكاليف</li>
                </ul>
            </div>
            
            <div class="illustration-container">
                <h3 class="illustration-title"><i class="fas fa-lightbulb"></i> فكرة بسيطة لتخيل مفهوم الكنتور</h3>
                <p>تخيل أنك تضع كوباً من الماء على منضدة، ثم تبدأ في رفع مستوى الماء ببطء. كلما ارتفع مستوى الماء، يرسم خطاً على المنضدة يحدد النقاط التي يصل إليها الماء عند ذلك الارتفاع. هذه الخطوط هي <strong>خطوط الكنتور</strong>!</p>
                
                <div style="display: flex; justify-content: center; margin: 1.5rem 0;">
                    <div style="text-align: center; margin: 0 1rem;">
                        <div style="width: 100px; height: 100px; background: #e0f2e0; border-radius: 50%; position: relative; margin: 0 auto;">
                            <div style="position: absolute; top: 50%; right: 0; left: 0; height: 2px; background: var(--primary-color);"></div>
                            <div style="position: absolute; top: 30%; right: 15%; left: 15%; height: 2px; background: var(--primary-color);"></div>
                            <div style="position: absolute; top: 70%; right: 15%; left: 15%; height: 2px; background: var(--primary-color);"></div>
                        </div>
                        <p style="margin-top: 0.8rem;"><strong>خطوط كنتور على تل دائري</strong></p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-bullseye"></i> الأهداف التعليمية للوحدة</h3>
                <div class="comparison-table">
                    <div class="comparison-col">
                        <div class="comparison-title">المعرفة والمفاهيم</div>
                        <ul>
                            <li>فهم مفهوم خطوط الكنتور والخرائط الكنتورية</li>
                            <li>معرفة خصائص خطوط الكنتور وتفسيرها</li>
                            <li>فهم مبدأ الميزانية الشبكية وأهميتها</li>
                            <li>معرفة الأدوات المستخدمة في القياس</li>
                        </ul>
                    </div>
                    <div class="comparison-col">
                        <div class="comparison-title">المهارات العملية</div>
                        <ul>
                            <li>القدرة على تنفيذ ميزانية شبكية عملية</li>
                            <li>حساب مناسيب النقاط وتمثيلها بيانياً</li>
                            <li>حساب كميات الحفر والردم بدقة</li>
                            <li>قراءة وتحليل الخرائط الكنتورية</li>
                        </ul>
                    </div>
                    <div class="comparison-col">
                        <div class="comparison-title">التطبيقات العملية</div>
                        <ul>
                            <li>تخطيط مشاريع التسوية للأراضي الزراعية</li>
                            <li>تصميم أنظمة الري والصرف</li>
                            <li>تخطيط الطرق والمسالك</li>
                            <li>دراسات الجدوى للمشاريع الهندسية</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="overall-progress"></div>
            </div>
            <div style="text-align: center; margin-top: 1rem;">
                <span>تقدمك في دراسة الوحدة:</span>
                <span id="progress-text" style="font-weight: bold; margin-right: 10px;" class="arabic-number">٠٪</span>
            </div>
        </section>
        
        <!-- قسم الخرائط الكنتورية -->
        <section id="contour" class="section">
            <h2><i class="fas fa-map-marked-alt"></i> الخرائط الكنتورية</h2>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-draw-polygon"></i> تعريف دقيق لخط الكنتور</h3>
                <p><strong>خط الكنتور</strong> هو خط وهمي مغلق أو غير مغلق يمر بجميع النقاط التي لها نفس الارتفاع (المنسوب) فوق مستوى ثابت (عادةً مستوى سطح البحر).</p>
                
                <div class="note-box">
                    <div class="note-title"><i class="fas fa-info-circle"></i> معلومة مهمة</div>
                    <p>يسمى خط الكنتور أيضاً <strong>خط التسوية</strong> أو <strong>خط المناسيب المتساوية</strong>. الفرق في الارتفاع بين خطي كنتور متتاليين يسمى <strong>الفترة الكنتورية</strong>.</p>
                </div>
            </div>
            
            <div class="illustration-container">
                <h3 class="illustration-title"><i class="fas fa-images"></i> صور توضيحية لخرائط الكنتور</h3>
                <p>الأشكال التالية توضح أنواع مختلفة من الخرائط الكنتورية:</p>
                
                <div class="contour-images">
                    <div class="contour-image-box">
                        <div class="contour-img">
                            <i class="fas fa-mountain"></i>
                        </div>
                        <div class="contour-desc">
                            <h4>خريطة كنتورية لتل</h4>
                            <p>خطوط مغلقة، تزداد قيمها نحو المركز</p>
                            <div class="badge">مرتفع</div>
                        </div>
                    </div>
                    
                    <div class="contour-image-box">
                        <div class="contour-img">
                            <i class="fas fa-water"></i>
                        </div>
                        <div class="contour-desc">
                            <h4>خريطة كنتورية لوادي</h4>
                            <p>خطوط مغلقة، تقل قيمها نحو المركز</p>
                            <div class="badge">منخفض</div>
                        </div>
                    </div>
                    
                    <div class="contour-image-box">
                        <div class="contour-img">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="contour-desc">
                            <h4>خريطة كنتورية لمنحدر</h4>
                            <p>خطوط متوازية متقاربة أو متباعدة</p>
                            <div class="badge">انحدار</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-list-check"></i> خصائص خطوط الكنتور (مبسطة)</h3>
                <div class="step-by-step">
                    <div class="step"><strong>الخاصية ١:</strong> جميع النقاط على خط كنتور واحد لها نفس الارتفاع.</div>
                    <div class="step"><strong>الخاصية ٢:</strong> خطوط الكنتور لا تتقاطع أبداً (إلا في حالات خاصة جداً).</div>
                    <div class="step"><strong>الخاصية ٣:</strong> تقارب الخطوط يعني انحداراً شديداً، وتباعدها يعني انحداراً خفيفاً.</div>
                    <div class="step"><strong>الخاصية ٤:</strong> إذا شكلت الخطوط حلقة مغلقة: زيادة الارتفاع نحو الداخل ← تل، نقصان الارتفاع نحو الداخل ← منخفض.</div>
                    <div class="step"><strong>الخاصية ٥:</strong> خطوط الكنتور تتجه متعامدة مع خط أكبر انحدار.</div>
                </div>
            </div>
            
            <h3><i class="fas fa-sliders-h"></i> تمثيل الانحدار بخطوط الكنتور</h3>
            <div class="slope-representation">
                <div class="slope-box">
                    <div class="slope-visual" style="width: 120px;">
                        <div class="contour-lines">
                            <div class="contour-line" style="top: 25px;"></div>
                            <div class="contour-line" style="top: 50px;"></div>
                            <div class="contour-line" style="top: 75px;"></div>
                            <div class="contour-line" style="top: 100px;"></div>
                        </div>
                    </div>
                    <p><strong>انحدار خفيف</strong><br>خطوط متباعدة</p>
                </div>
                
                <div class="slope-box">
                    <div class="slope-visual" style="width: 70px;">
                        <div class="contour-lines">
                            <div class="contour-line" style="top: 15px;"></div>
                            <div class="contour-line" style="top: 30px;"></div>
                            <div class="contour-line" style="top: 45px;"></div>
                            <div class="contour-line" style="top: 60px;"></div>
                            <div class="contour-line" style="top: 75px;"></div>
                            <div class="contour-line" style="top: 90px;"></div>
                            <div class="contour-line" style="top: 105px;"></div>
                        </div>
                    </div>
                    <p><strong>انحدار متوسط</strong><br>خطوط متوسطة التباعد</p>
                </div>
                
                <div class="slope-box">
                    <div class="slope-visual" style="width: 40px;">
                        <div class="contour-lines">
                            <div class="contour-line" style="top: 12px;"></div>
                            <div class="contour-line" style="top: 24px;"></div>
                            <div class="contour-line" style="top: 36px;"></div>
                            <div class="contour-line" style="top: 48px;"></div>
                            <div class="contour-line" style="top: 60px;"></div>
                            <div class="contour-line" style="top: 72px;"></div>
                            <div class="contour-line" style="top: 84px;"></div>
                            <div class="contour-line" style="top: 96px;"></div>
                            <div class="contour-line" style="top: 108px;"></div>
                        </div>
                    </div>
                    <p><strong>انحدار شديد</strong><br>خطوط متقاربة جداً</p>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-cogs"></i> العوامل المؤثرة في الفترة الكنتورية</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>العامل</th>
                            <th>تأثيره على الفترة الكنتورية</th>
                            <th>مثال تطبيقي</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>طبيعة سطح الأرض</strong></td>
                            <td>أرض وعرة ← فترة أكبر، أرض منبسطة ← فترة أصغر</td>
                            <td>منطقة جبلية: فترة ١٠-٢٠ م، منطقة سهلية: فترة ١-٥ م</td>
                        </tr>
                        <tr>
                            <td><strong>مقياس الرسم</strong></td>
                            <td>مقياس كبير (تفصيلي) ← فترة أصغر، مقياس صغير ← فترة أكبر</td>
                            <td>مقياس ١:١٠٠٠ ← فترة ١ م، مقياس ١:١٠٠٠٠ ← فترة ٥ م</td>
                        </tr>
                                            <tr>
                            <td><strong>الدقة المطلوبة</strong></td>
                            <td>دقة عالية ← فترة أصغر، دقة أقل ← فترة أكبر</td>
                            <td>تصميم طريق سريع ← فترة صغيرة، دراسة جغرافية عامة ← فترة كبيرة</td>
                        </tr>
                        <tr>
                            <td><strong>الوقت والتكلفة</strong></td>
                            <td>وقت وتكلفة محدودين ← فترة أكبر، موارد متاحة ← فترة أصغر</td>
                            <td>مشروع سريع ← فترة ٥ م، مشروع مفصل ← فترة ١ م</td>
                        </tr>
                        <tr>
                            <td><strong>الغرض من الخريطة</strong></td>
                            <td>أغراض هندسية ← فترة صغيرة، أغراض تعليمية ← فترة متوسطة</td>
                            <td>تصميم سد ← فترة ١-٢ م، خريطة مدرسية ← فترة ١٠ م</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- قسم الميزانية الشبكية -->
        <section id="grid-survey" class="section">
            <h2><i class="fas fa-ruler-combined"></i> الميزانية الشبكية</h2>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-cogs"></i> ما هي الميزانية الشبكية؟</h3>
                <p><strong>الميزانية الشبكية</strong> هي طريقة عملية لتمثيل تضاريس الأرض عن طريق تقسيمها إلى شبكة من المربعات أو المستطيلات المتساوية، ثم قياس مناسيب أركان هذه المربعات باستخدام أدوات المساحة.</p>
                
                <div class="note-box">
                    <div class="note-title"><i class="fas fa-lightbulb"></i> فكرة مبسطة</div>
                    <p>تخيل أنك تريد معرفة شكل سريرك. تقسمه إلى مربعات صغيرة، وتقيس ارتفاع كل ركن من أركان المربعات عن الأرض. ثم ترسم خريطة توضح هذه الارتفاعات. هذه هي فكرة الميزانية الشبكية!</p>
                </div>
            </div>
            
            <div class="illustration-container">
                <h3 class="illustration-title"><i class="fas fa-th"></i> تقسيم الأرض إلى شبكة - مثال عملي</h3>
                <p>قطعة أرض مساحتها ٦٠×٤٠ متر، مقسمة إلى ٦ مربعات (٢٠×٢٠ م لكل منها):</p>
                
                <div class="grid-example" style="grid-template-columns: repeat(3, 1fr); max-width: 450px;">
                    <div class="grid-cell">أ<br>١٠٢.٥٠</div>
                    <div class="grid-cell">ب<br>١٠٣.٠٠</div>
                    <div class="grid-cell">ج<br>١٠٢.٧٥</div>
                    <div class="grid-cell">د<br>١٠٣.٢٠</div>
                    <div class="grid-cell">هـ<br>١٠٢.٨٠</div>
                    <div class="grid-cell">و<br>١٠٣.٥٠</div>
                </div>
                
                <p style="margin-top: 1.2rem;">كل حرف يمثل نقطة قياس، والرقم تحته يمثل المنسوب بالأمتار.</p>
            </div>
            
            <h3><i class="fas fa-tools"></i> الأدوات المستخدمة في الميزانية الشبكية</h3>
            <div class="contour-images">
                <div class="contour-image-box">
                    <div class="contour-img" style="background: #E3F2FD;">
                        <i class="fas fa-ruler-combined fa-3x" style="color: #1976D2;"></i>
                    </div>
                    <div class="contour-desc">
                        <h4>الميزان</h4>
                        <p>أداة دقيقة لقياس الفروق في الارتفاع بين النقاط</p>
                    </div>
                </div>
                
                <div class="contour-image-box">
                    <div class="contour-img" style="background: #FFF3E0;">
                        <i class="fas fa-tripod fa-3x" style="color: #F57C00;"></i>
                    </div>
                    <div class="contour-desc">
                        <h4>حامل الميزان</h4>
                        <p>يثبت الميزان بشكل ثابت ومستقر أثناء العمل</p>
                    </div>
                </div>
                
                <div class="contour-image-box">
                    <div class="contour-img" style="background: #E8F5E9;">
                        <i class="fas fa-ruler fa-3x" style="color: #388E3C;"></i>
                    </div>
                    <div class="contour-desc">
                        <h4>القائمة</h4>
                        <p>مسطرة مدرجة تُقرأ من خلال الميزان لقياس الارتفاعات</p>
                    </div>
                </div>
                
                <div class="contour-image-box">
                    <div class="contour-img" style="background: #F3E5F5;">
                        <i class="fas fa-flag fa-3x" style="color: #7B1FA2;"></i>
                    </div>
                    <div class="contour-desc">
                        <h4>الشواخص</h4>
                        <p>تثبت في الأرض لتحديد نقاط القياس بدقة</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-footsteps"></i> خطوات تنفيذ الميزانية الشبكية (طريقة مبسطة)</h3>
                <div class="step-by-step">
                    <div class="step"><strong>الخطوة ١:</strong> تجهيز جميع الأدوات المطلوبة (ميزان، حامل، قائمة، شواخص، شريط قياس).</div>
                    <div class="step"><strong>الخطوة ٢:</strong> اختيار نقطة مرجعية ثابتة (نقطة أساسية) ذات منسوب معروف.</div>
                    <div class="step"><strong>الخطوة ٣:</strong> تقسيم الأرض إلى مربعات أو مستطيلات متساوية باستخدام الشواخص والخيوط.</div>
                    <div class="step"><strong>الخطوة ٤:</strong> وضع الميزان في مكان مناسب يغطي أكبر مساحة ممكنة.</div>
                    <div class="step"><strong>الخطوة ٥:</strong> أخذ قراءة الميزان عند النقطة المرجعية لحساب منسوب سطح الميزان.</div>
                    <div class="step"><strong>الخطوة ٦:</strong> أخذ قراءات الميزان عند جميع أركان المربعات وتسجيلها في جدول.</div>
                    <div class="step"><strong>الخطوة ٧:</strong> حساب مناسيب جميع النقاط بالنسبة للنقطة المرجعية.</div>
                    <div class="step"><strong>الخطوة ٨:</strong> تمثيل البيانات على رسم بياني أو خريطة كنتورية.</div>
                </div>
            </div>
            
            <h3><i class="fas fa-table"></i> مثال على جدول تسجيل القراءات</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>رقم النقطة</th>
                        <th>قراءة الميزان (م)</th>
                        <th>منسوب سطح الميزان (م)</th>
                        <th>المنسوب النهائي (م)</th>
                        <th>ملاحظات</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ن م (مرجعية)</td>
                        <td>١.٢٥٠</td>
                        <td>١٠٢.٥٠٠</td>
                        <td>١٠١.٢٥٠</td>
                        <td>نقطة ثابتة معروفة</td>
                    </tr>
                    <tr>
                        <td>١</td>
                        <td>١.٤٢٠</td>
                        <td>١٠٢.٥٠٠</td>
                        <td>١٠١.٠٨٠</td>
                        <td>الزاوية الشمالية الغربية</td>
                    </tr>
                    <tr>
                        <td>٢</td>
                        <td>١.٣٨٠</td>
                        <td>١٠٢.٥٠٠</td>
                        <td>١٠١.١٢٠</td>
                        <td>منتصف الضلع الشمالي</td>
                    </tr>
                    <tr>
                        <td>٣</td>
                        <td>١.٣٢٠</td>
                        <td>١٠٢.٥٠٠</td>
                        <td>١٠١.١٨٠</td>
                        <td>الزاوية الشمالية الشرقية</td>
                    </tr>
                    <tr>
                        <td>٤</td>
                        <td>١.٥١٠</td>
                        <td>١٠٢.٥٠٠</td>
                        <td>١٠٠.٩٩٠</td>
                        <td>الزاوية الجنوبية الغربية</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="note-box">
                <div class="note-title"><i class="fas fa-calculator"></i> طريقة حساب المنسوب</div>
                <p><strong>منسوب النقطة = منسوب سطح الميزان - قراءة الميزان عند النقطة</strong></p>
                <p>مثال: منسوب سطح الميزان = ١٠٢.٥٠٠ م، قراءة الميزان عند النقطة ١ = ١.٤٢٠ م</p>
                <p>منسوب النقطة ١ = ١٠٢.٥٠٠ - ١.٤٢٠ = ١٠١.٠٨٠ م</p>
            </div>
        </section>
        
        <!-- قسم حساب الحفر والردم -->
        <section id="calculation" class="section">
            <h2><i class="fas fa-calculator"></i> حساب كميات الحفر والردم</h2>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-balance-scale"></i> لماذا نحتاج لحساب الحفر والردم؟</h3>
                <p>عند تخطيط أي مشروع على أرض غير مستوية (مشاريع زراعية، طرق، مباني، إلخ)، نحتاج لتسوية الأرض أولاً. عملية التسوية تتطلب:</p>
                <ul>
                    <li><strong>حفر</strong> (Cut): إزالة التربة من المناطق المرتفعة</li>
                    <li><strong>ردم</strong> (Fill): إضافة تربة إلى المناطق المنخفضة</li>
                </ul>
                <p>يجب حساب كميات الحفر والردم بدقة لتقدير التكاليف وتنفيذ العمل بكفاءة.</p>
            </div>
            
            <div class="illustration-container">
                <h3 class="illustration-title"><i class="fas fa-exchange-alt"></i> مفهوم التسوية على مستويات مختلفة</h3>
                <div class="comparison-table">
                    <div class="comparison-col">
                        <div class="comparison-title">التسوية على متوسط المنسوب</div>
                        <ul>
                            <li>نحسب متوسط مناسيب جميع النقاط</li>
                            <li>نحفر المناطق الأعلى من المتوسط</li>
                            <li>نردم المناطق الأقل من المتوسط</li>
                            <li><strong>الميزة:</strong> أقل كمية حفر ممكنة</li>
                            <li><strong>العيب:</strong> يحتاج لنقل تربة من مناطق الحفر إلى مناطق الردم</li>
                        </ul>
                    </div>
                    <div class="comparison-col">
                        <div class="comparison-title">التسوية على أعلى منسوب</div>
                        <ul>
                            <li>نحدد أعلى منسوب في المنطقة</li>
                            <li>نردم جميع المناطق الأخرى لهذا المستوى</li>
                            <li>لا يوجد حفر على الإطلاق</li>
                            <li><strong>الميزة:</strong> لا حاجة لنقل تربة بين مناطق الموقع</li>
                            <li><strong>العيب:</strong> يحتاج لكميات كبيرة من التربة للردم</li>
                        </ul>
                    </div>
                    <div class="comparison-col">
                        <div class="comparison-title">التسوية على أوطى منسوب</div>
                        <ul>
                            <li>نحدد أقل منسوب في المنطقة</li>
                            <li>نحفر جميع المناطق الأخرى لهذا المستوى</li>
                            <li>لا يوجد ردم على الإطلاق</li>
                            <li><strong>الميزة:</strong> لا حاجة لتوريد تربة من خارج الموقع</li>
                            <li><strong>العيب:</strong> يحتاج لكميات كبيرة من الحفر</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <h3><i class="fas fa-square-root-alt"></i> القانون العام لحساب الحفر والردم</h3>
            <div class="formula-box formula-box-arabic">
                مكعبات الحفر أو الردم (م³) = (س ÷ ٤) × (أ + ٢ب + ٣ج + ٤د)
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-th-large"></i> شرح مبسط للرموز في القانون</h3>
                <div class="grid-example" style="grid-template-columns: repeat(4, 1fr); margin: 1.5rem auto; max-width: 450px;">
                    <div class="grid-cell أ">أ</div>
                    <div class="grid-cell ب">ب</div>
                    <div class="grid-cell ب">ب</div>
                    <div class="grid-cell أ">أ</div>
                    <div class="grid-cell ب">ب</div>
                    <div class="grid-cell د">د</div>
                    <div class="grid-cell د">د</div>
                    <div class="grid-cell ب">ب</div>
                    <div class="grid-cell أ">أ</div>
                    <div class="grid-cell ب">ب</div>
                    <div class="grid-cell ب">ب</div>
                    <div class="grid-cell أ">أ</div>
                </div>
                
                <table class="data-table" style="margin-top: 1.5rem;">
                    <thead>
                        <tr>
                            <th>الرمز</th>
                            <th>المعنى</th>
                            <th>مثال من الشبكة</th>
                            <th>الوزن في القانون</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>س</strong></td>
                            <td>مساحة المربع الواحد (م²)</td>
                            <td>إذا كان المربع ٢٠×٢٠ م، فإن س = ٤٠٠ م²</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>أ</strong></td>
                            <td>مجموع ارتفاعات النقاط التي تشارك في مربع واحد فقط</td>
                            <td>النقاط في الزوايا الخارجية (باللون الأحمر)</td>
                            <td>× ١</td>
                        </tr>
                        <tr>
                            <td><strong>ب</strong></td>
                            <td>مجموع ارتفاعات النقاط التي تشارك في مربعين</td>
                            <td>النقاط على الأضلاع الخارجية غير الزوايا (باللون الأصفر)</td>
                            <td>× ٢</td>
                        </tr>
                        <tr>
                            <td><strong>ج</strong></td>
                            <td>مجموع ارتفاعات النقاط التي تشارك في ٣ مربعات</td>
                            <td>النقاط الداخلية القريبة من الحواف (باللون الأخضر)</td>
                            <td>× ٣</td>
                        </tr>
                        <tr>
                            <td><strong>د</strong></td>
                            <td>مجموع ارتفاعات النقاط التي تشارك في ٤ مربعات</td>
                            <td>النقاط الداخلية تماماً (باللون الأزرق)</td>
                            <td>× ٤</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="step-by-step">
                <h3><i class="fas fa-list-ol"></i> خطوات تطبيق القانون خطوة بخطوة</h3>
                <div class="step"><strong>الخطوة ١:</strong> حساب مناسيب جميع النقاط في الشبكة.</div>
                <div class="step"><strong>الخطوة ٢:</strong> تحديد مستوى التسوية المطلوب (متوسط، أعلى، أوطى).</div>
                <div class="step"><strong>الخطوة ٣:</strong> حساب فرق الارتفاع بين منسوب كل نقطة ومستوى التسوية.</div>
                <div class="step"><strong>الخطوة ٤:</strong> تصنيف النقاط حسب عدد المربعات التي تشارك فيها (أ، ب، ج، د).</div>
                <div class="step"><strong>الخطوة ٥:</strong> جمع ارتفاعات الحفر أو الردم لكل مجموعة من النقاط.</div>
                <div class="step"><strong>الخطوة ٦:</strong> تطبيق القانون باستخدام المجاميع المحسوبة.</div>
                <div class="step"><strong>الخطوة ٧:</strong> التحقق من النتيجة وحساب التكلفة التقريبية إذا لزم الأمر.</div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-calculator"></i> مثال تطبيقي على القانون</h3>
                <p>إذا كانت لدينا قطعة أرض مقسمة إلى ٤ مربعات (١٠×١٠ م لكل منها)، وكانت ارتفاعات الحفر كما يلي:</p>
                <div class="formula-equation">
                    <p>س = ١٠ × ١٠ = ١٠٠ م²</p>
                    <p>أ = ٠.٥ + ٠.٣ + ٠.٤ + ٠.٦ = ١.٨ م</p>
                    <p>ب = ٠.٧ + ٠.٨ = ١.٥ م</p>
                    <p>ج = ٠.٩ + ١.٠ = ١.٩ م</p>
                    <p>د = ١.٢ م</p>
                    <p>مكعبات الحفر = (١٠٠ ÷ ٤) × (١.٨ + ٢×١.٥ + ٣×١.٩ + ٤×١.٢)</p>
                    <p>مكعبات الحفر = ٢٥ × (١.٨ + ٣.٠ + ٥.٧ + ٤.٨)</p>
                    <p>مكعبات الحفر = ٢٥ × ١٥.٣ = ٣٨٢.٥ م³</p>
                </div>
            </div>
        </section>
        
        <!-- قسم طرق ووسائل أخرى -->
        <section id="methods" class="section">
            <h2><i class="fas fa-tasks"></i> طرق ووسائل أخرى لتمثيل التضاريس</h2>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-layer-group"></i> طرق تمثيل التضاريس على الخرائط</h3>
                <p>بالإضافة إلى خطوط الكنتور، توجد عدة طرق أخرى لتمثيل التضاريس على الخرائط:</p>
                
                <div class="comparison-table">
                    <div class="comparison-col">
                        <div class="comparison-title">التظليل التضاريسي</div>
                        <ul>
                            <li>استخدام تدرجات الألوان أو الظلال</li>
                            <li>تعطي انطباعاً ثلاثي الأبعاد</li>
                            <li>سهلة الفهم للعامة</li>
                            <li>غير دقيقة في إعطاء قيم رقمية</li>
                            <li>تُستخدم في الخرائط السياحية والتعليمية</li>
                        </ul>
                    </div>
                    
                    <div class="comparison-col">
                        <div class="comparison-title">النقاط المحورية</div>
                        <ul>
                            <li>وضع أرقام تمثل ارتفاع نقاط محددة</li>
                            <li>دقيقة وتعطي قيماً رقمية</li>
                            <li>مفيدة للمهندسين والعاملين في الميدان</li>
                            <li>لا تعطي صورة شاملة للتضاريس</li>
                            <li>تُستخدم مع طرق أخرى لزيادة الدقة</li>
                        </ul>
                    </div>
                    
                    <div class="comparison-col">
                        <div class="comparison-title">النماذج المجسمة</div>
                        <ul>
                            <li>تمثيل ثلاثي الأبعاد للتضاريس</li>
                            <li>واقعية وسهلة الفهم</li>
                            <li>مكلفة في الإنتاج</li>
                            <li>تُستخدم في التخطيط الحضري والمشاريع الكبيرة</li>
                            <li>يمكن إنتاجها باستخدام الحاسب الآلي</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- قسم بنك الأسئلة -->
        <section id="questions" class="section">
            <h2><i class="fas fa-question-circle"></i> بنك الأسئلة والتدريبات</h2>
            
            <div class="question-box">
                <div class="question"><span class="question-number">١</span> ما هو تعريف خط الكنتور؟</div>
                <div class="options">
                    <div class="option" data-correct="true">
                        <div class="option-letter">أ</div>
                        <div>الخط الوهمي الذي يمر بجميع النقاط ذات المنسوب الواحد</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">ب</div>
                        <div>الخط الذي يحدد حدود الممتلكات على الخريطة</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">ج</div>
                        <div>الخط الذي يصل بين أعلى نقطتين في المنطقة</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">د</div>
                        <div>الخط الذي يبين اتجاه جريان المياه</div>
                    </div>
                </div>
                <button class="btn btn-check" onclick="checkAnswer(this)">
                    <i class="fas fa-check"></i> تحقق من الإجابة
                </button>
                <div class="answer-feedback" style="display: none; margin-top: 1rem; padding: 1rem; background-color: #e8f5e9; border-radius: 8px;">
                    <strong><i class="fas fa-check-circle"></i> الإجابة الصحيحة: (أ)</strong><br>
                    خط الكنتور هو الخط الوهمي الذي يمر بجميع النقاط ذات المنسوب الواحد. وهو يختلف عن خطوط الحدود أو خطوط المجاري المائية.
                </div>
            </div>
            
            <div class="question-box">
                <div class="question"><span class="question-number">٢</span> إذا كانت خطوط الكنتور على خريطة متقاربة جداً من بعضها، فماذا يعني ذلك؟</div>
                <div class="options">
                    <div class="option">
                        <div class="option-letter">أ</div>
                        <div>أن الأرض منبسطة تماماً</div>
                    </div>
                    <div class="option" data-correct="true">
                        <div class="option-letter">ب</div>
                        <div>أن الانحدار شديد</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">ج</div>
                        <div>أن المنطقة منخفضة</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">د</div>
                        <div>أن المنطقة مرتفعة</div>
                    </div>
                </div>
                <button class="btn btn-check" onclick="checkAnswer(this)">
                    <i class="fas fa-check"></i> تحقق من الإجابة
                </button>
                <div class="answer-feedback" style="display: none; margin-top: 1rem; padding: 1rem; background-color: #e8f5e9; border-radius: 8px;">
                    <strong><i class="fas fa-check-circle"></i> الإجابة الصحيحة: (ب)</strong><br>
                    تقارب خطوط الكنتور يعني أن التغير في الارتفاع يحدث في مسافة أفقية قصيرة، أي أن الانحدار شديد. بينما تباعد الخطوط يعني انحداراً خفيفاً.
                </div>
            </div>
            
            <div class="question-box">
                <div class="question"><span class="question-number">٣</span> في القانون: مكعبات الحفر = (س ÷ ٤) × (أ + ٢ب + ٣ج + ٤د)، ماذا يمثل الرمز "ب"؟</div>
                <div class="options">
                    <div class="option">
                        <div class="option-letter">أ</div>
                        <div>ارتفاع النقاط التي تشارك في مربع واحد</div>
                    </div>
                    <div class="option" data-correct="true">
                        <div class="option-letter">ب</div>
                        <div>ارتفاع النقاط التي تشارك في مربعين</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">ج</div>
                        <div>ارتفاع النقاط التي تشارك في ٣ مربعات</div>
                    </div>
                    <div class="option">
                        <div class="option-letter">د</div>
                        <div>ارتفاع النقاط التي تشارك في ٤ مربعات</div>
                    </div>
                </div>
                <button class="btn btn-check" onclick="checkAnswer(this)">
                    <i class="fas fa-check"></i> تحقق من الإجابة
                </button>
                <div class="answer-feedback" style="display: none; margin-top: 1rem; padding: 1rem; background-color: #e8f5e9; border-radius: 8px;">
                    <strong><i class="fas fa-check-circle"></i> الإجابة الصحيحة: (ب)</strong><br>
                    في القانون، "ب" يمثل ارتفاع النقاط التي تشارك في مربعين، وتكون عادة على الأضلاع الخارجية للشبكة (غير الزوايا).
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn" onclick="calculateScore()" style="font-size: 1.1rem; padding: 1rem 2.5rem;">
                    <i class="fas fa-chart-bar"></i> احسب درجتك النهائية
                </button>
                <div id="scoreResult" class="accuracy" style="display: none; margin-top: 1.5rem; font-size: 1.2rem;"></div>
            </div>
        </section>
        
        <!-- قسم المسائل وحلولها -->
        <section id="problems" class="section">
            <h2><i class="fas fa-pencil-ruler"></i> مسائل عملية مع الحلول التفصيلية</h2>
            
            <div class="problem-box">
                <h3 class="problem-title">المسألة ١: حساب كمية الحفر على متوسط المنسوب</h3>
                <p><strong>البيانات:</strong> قطعة أرض مستطيلة الشكل أبعادها ٦٠×٤٠ متر، تم تقسيمها إلى ٦ مربعات (٢٠×٢٠ م لكل منها). 
                مناسيب النقاط كما يلي (بالأمتار):</p>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; max-width: 350px; margin: 1.2rem auto;">
                    <div style="background: linear-gradient(145deg, #e0f2e0, #c8e6c9); padding: 1.2rem; text-align: center; border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--dark-green);">١٠٢.٥٠</div>
                        <div style="font-size: 0.85rem; margin-top: 0.5rem;">النقطة أ</div>
                    </div>
                    <div style="background: linear-gradient(145deg, #e0f2e0, #c8e6c9); padding: 1.2rem; text-align: center; border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--dark-green);">١٠٣.٠٠</div>
                        <div style="font-size: 0.85rem; margin-top: 0.5rem;">النقطة ب</div>
                    </div>
                    <div style="background: linear-gradient(145deg, #e0f2e0, #c8e6c9); padding: 1.2rem; text-align: center; border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--dark-green);">١٠٢.٧٥</div>
                        <div style="font-size: 0.85rem; margin-top: 0.5rem;">النقطة ج</div>
                    </div>
                    <div style="background: linear-gradient(145deg, #e0f2e0, #c8e6c9); padding: 1.2rem; text-align: center; border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--dark-green);">١٠٣.٢٠</div>
                        <div style="font-size: 0.85rem; margin-top: 0.5rem;">النقطة د</div>
                    </div>
                    <div style="background: linear-gradient(145deg, #e0f2e0, #c8e6c9); padding: 1.2rem; text-align: center; border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--dark-green);">١٠٢.٨٠</div>
                        <div style="font-size: 0.85rem; margin-top: 0.5rem;">النقطة هـ</div>
                    </div>
                    <div style="background: linear-gradient(145deg, #e0f2e0, #c8e6c9); padding: 1.2rem; text-align: center; border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--dark-green);">١٠٣.٥٠</div>
                        <div style="font-size: 0.85rem; margin-top: 0.5rem;">النقطة و</div>
                    </div>
                </div>
                
                <p><strong>المطلوب:</strong> حساب كمية الحفر المطلوبة للتسوية على متوسط المنسوب.</p>
                
                <div class="input-group">
                    <label for="student-answer1">أدخل إجابتك لكمية الحفر (م³):</label>
                    <input type="number" id="student-answer1" step="0.01" placeholder="أدني كمية الحفر المحسوبة" class="arabic-number">
                </div>
                
                <button class="btn" onclick="checkProblem1()">
                    <i class="fas fa-check-double"></i> تحقق من حلك
                </button>
                
                <div id="problem1-result" class="results">
                    <h4>تحليل إجابتك:</h4>
                    <p id="problem1-feedback"></p>
                    <div id="problem1-accuracy" class="accuracy"></div>
                </div>
            </div>
            
            <div class="problem-box">
                <h3 class="problem-title">المسألة ٢: تطبيق القانون العام</h3>
                <p><strong>البيانات:</strong> قطعة أرض مقسمة إلى ٤ مربعات (١٠×١٠ م لكل منها). ارتفاعات الحفر المحسوبة كما يلي:</p>
                <ul>
                    <li>النقاط من النوع أ: ٠.٥ م، ٠.٣ م، ٠.٤ م، ٠.٦ م</li>
                    <li>النقاط من النوع ب: ٠.٧ م، ٠.٨ م</li>
                    <li>النقاط من النوع ج: ٠.٩ م، ١.٠ م</li>
                    <li>النقاط من النوع د: ١.٢ م</li>
                </ul>
                
                <p><strong>المطلوب:</strong> احسب كمية الحفر الكلية باستخدام القانون العام.</p>
                
                <div class="input-group">
                    <label for="student-answer2">أدخل إجابتك لكمية الحفر (م³):</label>
                    <input type="number" id="student-answer2" step="0.01" placeholder="أدني كمية الحفر المحسوبة" class="arabic-number">
                </div>
                
                <button class="btn" onclick="checkProblem2()">
                    <i class="fas fa-check-double"></i> تحقق من حلك
                </button>
                
                <div id="problem2-result" class="results">
                    <h4>تحليل إجابتك:</h4>
                    <p id="problem2-feedback"></p>
                    <div id="problem2-accuracy" class="accuracy"></div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- الفوتر المحسن -->
    <footer>
        <div class="footer-content">
            <h3 style="color: #C8E6C9; margin-bottom: 1.2rem; font-size: 1.3rem;">موقع تعليمي شامل - الميزانية الشبكية والخرائط الكنتورية</h3>
            <p>برنامج فني هندسة زراعية - الصف الثالث | الفصل الدراسي الأول</p>
            
            <div class="footer-links">
                <a href="#" class="footer-link" data-section="overview">نظرة عامة</a>
                <a href="#" class="footer-link" data-section="contour">الخرائط الكنتورية</a>
                <a href="#" class="footer-link" data-section="grid-survey">الميزانية الشبكية</a>
                <a href="#" class="footer-link" data-section="calculation">حساب الحفر والردم</a>
                <a href="#" class="footer-link" data-section="questions">بنك الأسئلة</a>
                <a href="#" class="footer-link" data-section="problems">مسائل وحلول</a>
            </div>
            
            <div style="margin-top: 1.5rem; padding-top: 1.2rem; border-top: 1px solid rgba(255,255,255,0.2);">
                <p>© ٢٠٢٣ - جميع الحقوق محفوظة. هذا الموقع لأغراض تعليمية بحتة.</p>
                <p style="margin-top: 0.5rem; font-size: 0.85rem; opacity: 0.8;">تم التصميم والبرمجة خصيصاً لطلاب الهندسة الزراعية</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== تحسينات شريط التنقل =====
        const nav = document.getElementById('mainNav');
        const backToTop = document.getElementById('backToTop');
        const floatingMenuBtn = document.getElementById('floatingMenuBtn');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileNav = document.getElementById('mobileNav');
        const mobileNavOverlay = document.getElementById('mobileNavOverlay');
        
        let lastScrollTop = 0;
        let isNavHidden = false;
        
        // التحكم في ظهور/اختفاء شريط التنقل عند التمرير
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            // التحكم في زر العودة للأعلى
            if (scrollTop > 300) {
                backToTop.classList.add('show');
                floatingMenuBtn.classList.add('show');
            } else {
                backToTop.classList.remove('show');
                floatingMenuBtn.classList.remove('show');
            }
            
            // إضافة تأثير التمرير على القائمة
            if (scrollTop > 100) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
            
            // إخفاء القائمة عند التمرير لأسفل وإظهارها عند التمرير لأعلى
            if (scrollTop > lastScrollTop && scrollTop > 200) {
                // التمرير لأسفل
                if (!isNavHidden) {
                    nav.classList.add('hidden');
                    isNavHidden = true;
                }
            } else {
                // التمرير لأعلى
                if (isNavHidden) {
                    nav.classList.remove('hidden');
                    isNavHidden = false;
                }
            }
            
            lastScrollTop = scrollTop;
            
            // تحديث القائمة النشطة بناءً على التمرير
            updateActiveNavLink();
        });
        
        // وظيفة زر العودة للأعلى
        backToTop.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // وظيفة زر القائمة العائمة للجوال
        floatingMenuBtn.addEventListener('click', function() {
            toggleMobileMenu();
        });
        
        // وظيفة زر القائمة المدمجة للجوال
        mobileMenuBtn.addEventListener('click', function() {
            toggleMobileMenu();
        });
        
        // وظيفة إغلاق القائمة المدمجة عند النقر خارجها
        mobileNavOverlay.addEventListener('click', function() {
            closeMobileMenu();
        });
        
        // وظيفة فتح/إغلاق القائمة المدمجة
        function toggleMobileMenu() {
            mobileNav.classList.toggle('active');
            mobileNavOverlay.classList.toggle('active');
            document.body.style.overflow = mobileNav.classList.contains('active') ? 'hidden' : '';
        }
        
        // وظيفة إغلاق القائمة المدمجة
        function closeMobileMenu() {
            mobileNav.classList.remove('active');
            mobileNavOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        // تحديث الرابط النشط في القائمة بناءً على التمرير
        function updateActiveNavLink() {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 120;
                const sectionHeight = section.clientHeight;
                const sectionId = section.getAttribute('id');
                
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    currentSection = sectionId;
                }
            });
            
            // تحديث روابط القائمة الرئيسية
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-section') === currentSection) {
                    link.classList.add('active');
                }
            });
            
            // تحديث روابط قائمة الجوال
            mobileNavLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-section') === currentSection) {
                    link.classList.add('active');
                }
            });
        }
        
        // ===== متغيرات التتبع =====
        let progress = 0;
        let sectionsVisited = new Set(['overview']);
        
        // ===== التنقل بين الأقسام =====
        document.querySelectorAll('.nav-link, .footer-link, .mobile-nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // إغلاق قائمة الجوال إذا كانت مفتوحة
                closeMobileMenu();
                
                // إزالة النشاط من جميع روابط التنقل
                document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(l => {
                    l.classList.remove('active');
                });
                
                // إضافة النشاط للرابط المختار
                this.classList.add('active');
                
                // إخفاء جميع الأقسام
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // إظهار القسم المختار
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
                
                // تحديث التقدم
                if (!sectionsVisited.has(sectionId)) {
                    sectionsVisited.add(sectionId);
                    progress = Math.min(100, (sectionsVisited.size / 7) * 100);
                    updateProgress();
                }
                
                // التمرير إلى أعلى القسم
                const targetSection = document.getElementById(sectionId);
                window.scrollTo({
                    top: targetSection.offsetTop - 100,
                    behavior: 'smooth'
                });
            });
        });
        
        // ===== تحديث شريط التقدم =====
        function updateProgress() {
            const progressBar = document.getElementById('overall-progress');
            const progressText = document.getElementById('progress-text');
            
            progressBar.style.width = progress + '%';
            
            // تحويل النسبة إلى أرقام عربية
            const arabicNumbers = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩', '١٠٠'];
            let progressPercent = Math.round(progress);
            let progressStr = progressPercent.toString();
            let arabicProgress = '';
            
            for (let i = 0; i < progressStr.length; i++) {
                if (progressStr[i] === '1' && progressStr[i+1] === '0' && progressStr[i+2] === '0') {
                    arabicProgress += '١٠٠';
                    break;
                }
                arabicProgress += arabicNumbers[parseInt(progressStr[i])];
            }
            
            progressText.textContent = arabicProgress + '٪';
        }
        
        // ===== التحقق من إجابات الأسئلة متعددة الخيارات =====
        function checkAnswer(button) {
            const questionBox = button.parentElement;
            const options = questionBox.querySelectorAll('.option');
            const feedback = questionBox.querySelector('.answer-feedback');
            
            // البحث عن الخيار المحدد
            let selectedOption = null;
            options.forEach(option => {
                if (option.classList.contains('selected')) {
                    selectedOption = option;
                }
            });
            
            if (!selectedOption) {
                alert('يرجى اختيار إجابة أولاً');
                return;
            }
            
            // إزالة التحديد من جميع الخيارات
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            selectedOption.classList.add('selected');
            
            // التحقق إذا كانت الإجابة صحيحة
            if (selectedOption.getAttribute('data-correct') === 'true') {
                selectedOption.classList.add('correct');
                feedback.style.display = 'block';
                
                // تحديث التقدم
                progress = Math.min(100, progress + 2);
                updateProgress();
            } else {
                selectedOption.classList.add('incorrect');
                const correctOption = questionBox.querySelector('.option[data-correct="true"]');
                correctOption.classList.add('correct');
                feedback.style.display = 'block';
            }
            
            // إخفاء زر التحقق
            button.style.display = 'none';
        }
        
        // ===== تمكين تفاعل خيارات الأسئلة =====
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                // إزالة التحديد من جميع خيارات السؤال نفسه
                const parent = this.closest('.question-box');
                parent.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // تحديد الخيار المختار
                this.classList.add('selected');
                
                // إظهار زر التحقق
                const checkButton = parent.querySelector('.btn-check');
                if (checkButton) {
                    checkButton.style.display = 'inline-flex';
                }
            });
        });
        
        // ===== حساب درجة الاختبار =====
        function calculateScore() {
            const questionBoxes = document.querySelectorAll('.question-box');
            let correctAnswers = 0;
            let totalAnswered = 0;
            
            questionBoxes.forEach(box => {
                const selectedOption = box.querySelector('.option.selected');
                if (selectedOption) {
                    totalAnswered++;
                    if (selectedOption.getAttribute('data-correct') === 'true') {
                        correctAnswers++;
                    }
                }
            });
            
            const scoreResult = document.getElementById('scoreResult');
            if (totalAnswered === 0) {
                scoreResult.innerHTML = '<div style="color: #F44336;"><i class="fas fa-exclamation-circle"></i> لم تقم بالإجابة على أي سؤال بعد</div>';
            } else {
                const percentage = Math.round((correctAnswers / totalAnswered) * 100);
                let message = '';
                let icon = '';
                
                if (percentage >= 90) {
                    message = 'ممتاز! 👏 أنت على مستوى عالٍ من الفهم';
                    icon = 'fa-trophy';
                } else if (percentage >= 70) {
                    message = 'جيد جداً! 👍 مستواك جيد ولكن يمكنك التحسين';
                    icon = 'fa-thumbs-up';
                } else if (percentage >= 50) {
                    message = 'مقبول 📚 تحتاج إلى مراجعة بعض النقاط';
                    icon = 'fa-book';
                } else {
                    message = 'يحتاج إلى تحسين 📖 راجع الدروس مرة أخرى';
                    icon = 'fa-graduation-cap';
                }
                
                // تحويل الأرقام إلى عربية
                const arabicNumbers = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩'];
                let correctStr = correctAnswers.toString();
                let totalStr = totalAnswered.toString();
                let percentStr = percentage.toString();
                
                let arabicCorrect = '';
                let arabicTotal = '';
                let arabicPercent = '';
                
                for (let i = 0; i < correctStr.length; i++) {
                    arabicCorrect += arabicNumbers[parseInt(correctStr[i])];
                }
                
                for (let i = 0; i < totalStr.length; i++) {
                    arabicTotal += arabicNumbers[parseInt(totalStr[i])];
                }
                
                for (let i = 0; i < percentStr.length; i++) {
                    arabicPercent += arabicNumbers[parseInt(percentStr[i])];
                }
                
                scoreResult.innerHTML = `
                    <div style="margin-bottom: 8px;">الإجابات الصحيحة: <strong>${arabicCorrect}</strong> من <strong>${arabicTotal}</strong></div>
                    <div style="margin-bottom: 8px;">النسبة المئوية: <strong>${arabicPercent}%</strong></div>
                    <div><i class="fas ${icon}"></i> ${message}</div>
                `;
                
                // تحديث التقدم
                progress = Math.min(100, progress + 5);
                updateProgress();
            }
            
            scoreResult.style.display = 'block';
            scoreResult.scrollIntoView({ behavior: 'smooth' });
        }
        
        // ===== المسألة 1: حساب كمية الحفر =====
        function checkProblem1() {
            const userAnswer = document.getElementById('student-answer1').value;
            const resultDiv = document.getElementById('problem1-result');
            const feedback = document.getElementById('problem1-feedback');
            const accuracy = document.getElementById('problem1-accuracy');
            
            if (!userAnswer) {
                alert('يرجى إدخال إجابتك أولاً');
                return;
            }
            
            const userVolume = parseFloat(userAnswer);
            const correctVolume = 86; // من الحل المفصل
            
            const diff = Math.abs(userVolume - correctVolume);
            const diffPercentage = (diff / correctVolume) * 100;
            
            let accuracyPercentage = 0;
            let feedbackText = '';
            
            if (diffPercentage <= 5) {
                accuracyPercentage = 100;
                feedbackText = `✔ إجابة صحيحة تماماً! كمية الحفر المطلوبة هي ${correctVolume} م³`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 👏 ممتاز!`;
                accuracy.style.color = '#2E7D32';
                
                // تحديث التقدم
                progress = Math.min(100, progress + 5);
                updateProgress();
            } else if (diffPercentage <= 15) {
                accuracyPercentage = 80;
                feedbackText = `✓ إجابة قريبة من الصحيحة. الإجابة الصحيحة هي ${correctVolume} م³`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 👍 جيد جداً!`;
                accuracy.style.color = '#FF9800';
                
                // تحديث التقدم
                progress = Math.min(100, progress + 3);
                updateProgress();
            } else if (diffPercentage <= 30) {
                accuracyPercentage = 50;
                feedbackText = `✗ إجابة غير دقيقة. الإجابة الصحيحة هي ${correctVolume} م³. راجع خطوات الحل أعلاه.`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 📚 تحتاج إلى مراجعة`;
                accuracy.style.color = '#F57C00';
            } else {
                accuracyPercentage = 0;
                feedbackText = `✗ إجابة خاطئة. الإجابة الصحيحة هي ${correctVolume} م³. يرجى دراسة خطوات الحل بعناية.`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 📖 راجع الدروس مرة أخرى`;
                accuracy.style.color = '#F44336';
            }
            
            feedback.innerHTML = feedbackText;
            resultDiv.classList.add('show');
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // ===== المسألة 2: تطبيق القانون =====
        function checkProblem2() {
            const userAnswer = document.getElementById('student-answer2').value;
            const resultDiv = document.getElementById('problem2-result');
            const feedback = document.getElementById('problem2-feedback');
            const accuracy = document.getElementById('problem2-accuracy');
            
            if (!userAnswer) {
                alert('يرجى إدخال إجابتك أولاً');
                return;
            }
            
            const userVolume = parseFloat(userAnswer);
            const correctVolume = 382.5; // من الحل المفصل
            
            const diff = Math.abs(userVolume - correctVolume);
            const diffPercentage = (diff / correctVolume) * 100;
            
            let accuracyPercentage = 0;
            let feedbackText = '';
            
            if (diffPercentage <= 1) {
                accuracyPercentage = 100;
                feedbackText = `✔ إجابة صحيحة تماماً! كمية الحفر الكلية هي ${correctVolume} م³`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 👏 ممتاز!`;
                accuracy.style.color = '#2E7D32';
                
                // تحديث التقدم
                progress = Math.min(100, progress + 5);
                updateProgress();
            } else if (diffPercentage <= 5) {
                accuracyPercentage = 90;
                feedbackText = `✓ إجابة صحيحة تقريباً. الإجابة الدقيقة هي ${correctVolume} م³`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 👍 جيد جداً!`;
                accuracy.style.color = '#4CAF50';
                
                // تحديث التقدم
                progress = Math.min(100, progress + 3);
                updateProgress();
            } else if (diffPercentage <= 10) {
                accuracyPercentage = 70;
                feedbackText = `≈ إجابة مقبولة مع هامش خطأ بسيط. الإجابة الصحيحة هي ${correctVolume} م³`;
                accuracy.innerHTML = `الدقة: ${accuracyPercentage}% 📘 جيد`;
                accuracy.style.color = '#FF9800';
            } else {
                accuracyPercentage = Math.max(0, 100 - diffPercentage);
                feedbackText = `✗ إجابة غير صحيحة. الإجابة الصحيحة هي ${correctVolume} م³. راجع خطوات الحل أعلاه.`;
           // تحويل النسبة إلى عربية
                const arabicNumbers = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩'];
                let roundedAccuracy = Math.round(accuracyPercentage);
                let accuracyStr = roundedAccuracy.toString();
                let arabicAccuracy = '';
                
                for (let i = 0; i < accuracyStr.length; i++) {
                    arabicAccuracy += arabicNumbers[parseInt(accuracyStr[i])];
                }
                
                accuracy.innerHTML = `الدقة: ${arabicAccuracy}% 📚 تحتاج إلى مراجعة`;
                accuracy.style.color = '#F44336';
            }
            
            feedback.innerHTML = feedbackText;
            resultDiv.classList.add('show');
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // ===== تحديث التقدم عند تحميل الصفحة =====
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            
            // إغلاق القائمة المدمجة عند النقر على رابط
            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    closeMobileMenu();
                });
            });
        });
        
        // ===== تحسينات التجاوب مع تغيير حجم الشاشة =====
        window.addEventListener('resize', function() {
            // إغلاق قائمة الجوال إذا كانت مفتوحة وكانت الشاشة كبيرة
            if (window.innerWidth > 992 && mobileNav.classList.contains('active')) {
                closeMobileMenu();
            }
        });
    </script>
</body>
</html>
